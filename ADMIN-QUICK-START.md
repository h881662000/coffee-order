# 🚀 管理者功能快速上手

## 立即開始（3 分鐘）

### 1️⃣ 登入管理者

1. 開啟網站
2. 點選右上角「🔐 管理者」按鈕
3. 輸入帳號密碼：
   - 帳號：`admin`
   - 密碼：`admin123`
4. 點選「登入」

✅ 登入成功後會看到「🛠️ 管理者面板」按鈕

---

### 2️⃣ 開啟管理者面板

點選「🛠️ 管理者面板」按鈕，會看到 5 個分頁：

- 📊 **儀表板** - 訂單統計、營收報表
- 🔒 **安全性設定** - 調整安全參數
- 📦 **商品管理** - 編輯、新增、刪除商品
- 📋 **訂單管理** - 檢視所有訂單
- 📜 **安全日誌** - 查看安全事件

---

## 常用功能

### 📦 編輯商品價格

1. 點選「📦 商品管理」
2. 找到要編輯的商品卡片
3. 修改價格欄位
4. 點選「💾 儲存變更」

✅ 前台會立即更新

---

### ➕ 新增商品

1. 點選「📦 商品管理」
2. 點選右上角「➕ 新增商品」按鈕
3. 填寫商品資訊：
   - 商品 ID：`E`
   - 商品名稱：`咖啡豆 E`
   - 120g 價格：`380`
   - 260g 價格：`750`
4. 點選「➕ 新增商品」

✅ 新商品會立即出現在前台

---

### 🔒 調整安全性設定

1. 點選「🔒 安全性設定」
2. 修改任何參數（例如：訂單頻率限制）
3. 點選「💾 儲存設定」

✅ 設定立即生效

**常用調整：**
- 促銷期間：放寬訂單頻率限制
- 遭受攻擊：加強驗證、降低購物車上限
- 正常營運：使用預設值

---

### 📋 查看訂單

1. 點選「📋 訂單管理」
2. 瀏覽所有訂單列表
3. 需要匯出？點選「📥 匯出 CSV」

---

### 📜 檢查安全日誌

1. 點選「📜 安全日誌」
2. 查看最近的安全事件
3. 紅色標記 = 需要注意的警告

**注意這些警告：**
- `RATE_LIMIT_EXCEEDED` - 有人試圖大量下單
- `SUSPICIOUS_ORDER` - 可疑訂單

---

## 安全參數快速參考

### 預設值（適合一般使用）

```yaml
訂單頻率限制:
  最大訂單數: 3 筆
  時間窗口: 60 分鐘
  封鎖時間: 1440 分鐘 (24 小時)

購物車限制:
  最大商品種類: 20 種
  單品最大數量: 10 個
  總數量上限: 50 個

訂單金額:
  最低金額: NT$ 100
  最高金額: NT$ 50,000

驗證碼: 啟用
```

### 促銷活動建議值

```yaml
訂單頻率限制:
  最大訂單數: 5 筆  ⬆️ 放寬
  時間窗口: 30 分鐘  ⬇️ 縮短
  封鎖時間: 720 分鐘

購物車限制:
  最大商品種類: 30 種  ⬆️ 放寬
  單品最大數量: 15 個  ⬆️ 放寬
  總數量上限: 100 個  ⬆️ 放寬

訂單金額:
  最高金額: NT$ 100,000  ⬆️ 提高
```

### 遭受攻擊時建議值

```yaml
訂單頻率限制:
  最大訂單數: 2 筆  ⬇️ 嚴格
  時間窗口: 120 分鐘  ⬆️ 拉長
  封鎖時間: 2880 分鐘 (48 小時)  ⬆️ 加長

購物車限制:
  最大商品種類: 10 種  ⬇️ 嚴格
  單品最大數量: 5 個  ⬇️ 嚴格
  總數量上限: 30 個  ⬇️ 嚴格

驗證碼:
  數字範圍: 10-50  ⬆️ 加大難度
```

---

## 📋 檢查清單

### ✅ 初次設定

- [ ] 登入管理者帳號
- [ ] 修改預設密碼（強烈建議！）
- [ ] 檢視儀表板，確認統計正常
- [ ] 確認商品資訊正確
- [ ] 測試編輯一個商品
- [ ] 測試新增一個商品並刪除
- [ ] 調整安全性設定（可選）

### ✅ 每日例行

- [ ] 查看儀表板的今日訂單數
- [ ] 檢查是否有新訂單
- [ ] 瀏覽安全日誌，注意警告

### ✅ 每週例行

- [ ] 檢視訂單統計
- [ ] 分析熱門商品
- [ ] 清理安全日誌（可選）
- [ ] 匯出訂單資料備份

### ✅ 促銷活動前

- [ ] 放寬安全性設定
- [ ] 確認所有商品價格正確
- [ ] 測試下單流程
- [ ] 準備好客服應對

### ✅ 促銷活動後

- [ ] 恢復正常安全性設定
- [ ] 檢視活動期間訂單統計
- [ ] 分析熱門商品
- [ ] 匯出訂單資料

---

## 🆘 緊急處理

### 情況 1: 遭受大量惡意訂單

**立即行動：**
1. 開啟管理者面板
2. 前往「🔒 安全性設定」
3. 嚴格設定：
   - 訂單頻率：2 筆 / 120 分鐘
   - 購物車：10 種 / 單品 5 個
4. 點選「💾 儲存設定」
5. 前往「📜 安全日誌」查看攻擊來源

---

### 情況 2: 商品價格錯誤

**立即行動：**
1. 開啟管理者面板
2. 前往「📦 商品管理」
3. 找到該商品，修改價格
4. 點選「💾 儲存變更」
5. 重新整理前台確認

---

### 情況 3: 忘記管理者密碼

**解決方法：**
1. 按 F12 開啟 Console
2. 執行：
```javascript
AdminSystem.hashPassword('新密碼').then(hash => console.log(hash))
```
3. 複製雜湊值
4. 編輯 `admin-system.js` 第 8 行
5. 重新上傳到 GitHub

---

## 🔑 重要提醒

### ⚠️ 一定要做

1. **修改預設密碼** - 預設密碼不安全
2. **定期檢查日誌** - 及早發現異常
3. **備份訂單資料** - 從 Google Sheets 匯出

### ❌ 不要做

1. **不要分享管理者密碼** - 只有管理者應該知道
2. **不要隨意刪除商品** - 刪除無法復原
3. **不要在公共電腦登入** - 避免帳號外洩

---

## 📚 詳細文件

- **ADMIN-GUIDE.md** - 完整使用指南
- **SECURITY.md** - 安全功能說明
- **TROUBLESHOOTING.md** - 故障排除
- **README-FULL.md** - 系統完整說明

---

## 📞 快速參考

### 預設帳號密碼
```
帳號：admin
密碼：admin123
```

### 管理者面板位置
```
右上角「🛠️ 管理者面板」按鈕
```

### Session 有效期
```
24 小時
```

### 設定儲存位置
```
瀏覽器 localStorage
```

### 常用 Console 指令
```javascript
// 產生新密碼雜湊
AdminSystem.hashPassword('新密碼')

// 查看安全設定
AdminSystem.getSecurityConfig()

// 查看所有商品
AdminSystem.getProducts()

// 查看訂單統計
AdminSystem.getOrderStats()

// 登出
AdminSystem.logout()
```

---

**開始管理您的咖啡訂購平台吧！** ☕🛠️
